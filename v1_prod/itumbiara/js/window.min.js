/* função de carregamento de conteudo no centro da pagina*/
function LoadContent(pagina,destino,scroll = false) {

    modal.show();

    if( scroll == true){
        jQuery("#content").css("overflow-y","hidden");
    }else{
        jQuery("#content").css("overflow-y","scroll");
    }

    jQuery("#" + destino + "").load("" + pagina + "",function(){modal.hide();});
    jQuery(".Window").remove();
    UIkit.offcanvas.hide();
}

function New_window(icon,largura,altura,titulo,pagina,preload,html,msg='Aguarde...') {


    var backgrounds_colors  = ["1565C0","1565C0","1565C0","1565C0","1565C0","1565C0","1565C0","1565C0","1565C0","1565C0"];
    var text_colors         = ["ffffff","ffffff","ffffff","ffffff","ffffff","ffffff","ffffff","ffffff","ffffff","ffffff"];

    if(preload==true){jQuery("#msg_loading").html(""+msg+"");modal.show();}

    var i = jQuery("#dock").find(".Window").size();
    var z_index = "1000" + i;
    var divPai = jQuery('#dock');

   /* divPai.prepend('<div id="Window_'+i+'"class="Window uk-animation-slide-top"><div id="Window_Header_'+i+'"onmouseover="Unable_Move_Window('+i+');"onmouseout="Disabled_Move_Window('+i+');"class="Window_Header" ><div id="Window_Header_title_'+i+'"class="Window_Header_title" ><i class="uk-icon-'+icon+'"></i> '+titulo+'</div><div id="Window_Header_nav_'+i+'"class="Window_Header_nav"><span class="close" id="Close_'+i+'"onclick="Close('+i+');">X</span><span class="minimizar" id="Minimize_'+i+'"onclick="Minimize_Window('+i+');">-</span><span class="maximizar"id="Maximizar_'+i+'"onclick="Maximize_Window('+i+');">+</span></div></div><div id="Window_Content_'+i+'"class="Window_Content"><!--conteudo --></div><div id="Window_Footer_'+i+'"class="Window_Footer"><span style="float:left; padding-left:5px; padding-top:-5px;"> .:: COB ::. </span><input type="hidden"id="id_janela_'+i+'" /><input type="hidden"id="altura_'+i+'"/><input type="hidden"id="largura_'+i+'"/></div></div>');*/
    divPai.prepend('<div id="Window_'+i+'"class="Window "><div id="Window_Header_'+i+'"onmouseover="Unable_Move_Window('+i+');"onmouseout="Disabled_Move_Window('+i+');"class="Window_Header" ><div id="Window_Header_title_'+i+'"class="Window_Header_title" ><i class="uk-icon-'+icon+'"></i> '+titulo+'</div><div id="Window_Header_nav_'+i+'"class="Window_Header_nav"><span class="close" id="Close_'+i+'"onclick="Close('+i+');">X</span><span class="minimizar" id="Minimize_'+i+'"onclick="Minimize_Window('+i+');" style="display:none;">-</span><span class="maximizar"id="Maximizar_'+i+'"onclick="Maximize_Window('+i+');">+</span></div></div><div id="Window_Content_'+i+'"class="Window_Content"><!--conteudo --></div><div id="Window_Footer_'+i+'"class="Window_Footer"><span style="float:left; padding-left:5px; padding-top:-5px;"> .:: COB ::. </span><input type="hidden"id="id_janela_'+i+'" /><input type="hidden"id="altura_'+i+'"/><input type="hidden"id="largura_'+i+'"/></div></div>');

/* se for load da pagina*/
    if(html==false){

        jQuery("#Window_Content_" + i + "").css("border-color","#"+backgrounds_colors[i]+"").css("width", "" + largura + "").css("height", "" + altura + "");
        jQuery("#Window_Content_" + i + "").load("" + pagina + "",function(){ if(preload==true){modal.hide();} });

 /* para html na pagina*/
    }else{

        jQuery("#Window_Content_" + i + "").css("border-color","#"+backgrounds_colors[i]+"").css("width", "" + largura + "").css("height", "" + altura + "");
        jQuery("#Window_Content_" + i + "").html("" + pagina + "");

    }
/* formata a altura e a largura da pagina diminuimos 300px do topo para descontar cabecalho do navegador*/
    var h = screen.height-305;
    var wintop = ((h - altura)/2)+"px";

    var w = screen.width;
    var winleft = ((w - largura) / 2)+"px";


    jQuery("#Window_" + i + "").css("background","#"+backgrounds_colors[i]+"").css("border-color","#"+backgrounds_colors[i]+"");
    jQuery("#Window_Header_" + i + "").css("background","#"+backgrounds_colors[i]+"");
    jQuery("#Window_Header_title_" + i + "").css("color","#"+text_colors[i]+"");
    jQuery("#Window_Content_" + i + "").css("border-color","#"+backgrounds_colors[i]+"");
    jQuery("#Window_Footer_" + i + "").css("background","#"+backgrounds_colors[i]+"").css("color","#"+text_colors[i]+"");


    jQuery("#Window_" + i + "").css("z-index", z_index);
    jQuery("#Window_" + i + "").css("top", wintop);
    jQuery("#Window_" + i + "").css("left", winleft);
    jQuery("#Window_" + i + "").show();

    i++
}

/* Função de fechamento de janela*/
function Close(id_janela) {

var i = jQuery("#dock").find(".Window").size();

    var janela = 'Window_' + id_janela;
                                      jQuery("#"+janela+"").remove();
}
/* função de movimento da janela*/
function Unable_Move_Window(id_janela) {

    jQuery("#Window_" + id_janela + "").draggable({disabled: false});
    /*{
        disabled: false,containment: "#content", scroll: false 
    }*/
}
/* função de desabilitar o movimento da janela*/
function Disabled_Move_Window(id_janela) {
    jQuery("#Window_" + id_janela + "").draggable({
        disabled: true
    });
}

/* função para maximizar as janelas*/
function Minimize_Window(id_janela) {
    var top = 0;
    if (id_janela != 0) {
        top = 40 * id_janela;
    } else {
        top = 0;
    }


    var w = jQuery("#Window_" + id_janela + "").width();
    var h = jQuery("#Window_" + id_janela + "").height();
    jQuery("#Close_"+id_janela+"").hide();
    jQuery('#altura_' + id_janela + '').val(h);
    jQuery('#largura_' + id_janela + '').val(w);
    jQuery("#Window_Content_" + id_janela + "").hide();
    jQuery("#Window_Header_title_" + id_janela + "").css("font-size","9px");
    jQuery("#Window_Footer_" + id_janela + "").hide();
    jQuery("#Minimize_" + id_janela + "").hide();
    jQuery("#Maximizar_" + id_janela + "").show();
    jQuery("#Window_" + id_janela + "").css("height", "40px").css("width", "195px").css('border-radius','0');
    jQuery("#Window_" + id_janela + "").animate({
        left: 0,
        top: top
    }, 100);
    jQuery("#Window_Header_nav_" + id_janela + "").css("position","absolute").animate({
        right: "-30px",
        top:"4px"
    }, 100);
}

/* função para minimizar as janelas*/
function Maximize_Window(id_janela) {
    var altura = jQuery('#altura_' + id_janela + '').val();
    var largura = jQuery('#largura_' + id_janela + '').val();
    var winleft = ((screen.width - largura) / 2);
    jQuery("#Close_"+id_janela+"").show();
    jQuery("#Window_" + id_janela + "").animate({
        top: 3,
        left: winleft
    }, 100,
    function(){

    jQuery("#Window_Content_" + id_janela + "").show();
    jQuery("#Window_Header_title_" + id_janela + "").css("font-size","12px");
    jQuery("#Window_Footer_" + id_janela + "").show();
    jQuery("#Minimize_" + id_janela + "").show();
    jQuery("#Maximizar_" + id_janela + "").hide();
    jQuery("#Window_" + id_janela + "").css("width", largura).css("height", altura).css('border-radius','5px');

    });
    jQuery("#Window_Header_nav_" + id_janela + "").css("background-color","transparent").css("position","absolute").animate({
        right: "0px"
    }, 100);
}