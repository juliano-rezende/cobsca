// seta o placeholder em todos os selects do forumlario
jQuery(function($) {
      //function for placeholder select
      function selectPlaceholder(selectID){
        var selected = $(selectID + ' option:selected');
        var val = selected.val();
        $(selectID + ' option' ).css('color', '#333');
        selected.css('color', '#999');
        if (val == "") {
          $(selectID).css('color', '#999');
        };
        $(selectID).change(function(){
          var val = $(selectID + ' option:selected' ).val();
          if (val == "") {
            $(selectID).css('color', '#999');
          }else{
            $(selectID).css('color', '#333');
          };
        });
      };
      selectPlaceholder('.select');
    });



jQuery(document).ready(function(){

	// mascara para os campos
	//jQuery("#usuario_id").css("background-color","#f5f5f5");
	jQuery("#date_expires_pass").mask("99/99/9999");
	jQuery("#interval_am,#interval_pm").mask("99:99 - 99:99");

});// fim document ready




// janela de pesquisa de usuario
jQuery("#Btn_user_0").click(function(){

	New_window('search','980','500','Pesquisa Usuario','assets/usuario/Frm_pesquisa_usuarios.php',true,false,'Carregando...');
});

//Abre uma janela para adcionar cliente
jQuery("#Btn_user_1").click(function(){

	// mensagen de carregamento
	jQuery("#msg_loading").html(" Aguarde ");
	//abre a tela de preload
	modal.show();

	LoadContent('assets/usuario/Frm_usuario.php','content');
});

// janela de permissoes de acesso
jQuery("#Btn_user_2").click(function(){
	// codigo do parceiro
	var id=jQuery("#usuario_id").val();

	New_window('search','350','500','Permissoes','assets/usuario/Veiw_permissoes.php?usuario_id='+id+'',true,false,'Carregando...');
});


// faz o update dos dados
jQuery(function() {

	jQuery("#Btn_user_3").click(function(event) {

		 // mensagen de carregamento
		 jQuery("#msg_loading").html(" Atualizando ");

		 //abre a tela de preload
		 modal.show();

		 //desabilita o envento padrao do formulario

		 event.preventDefault();

		 jQuery.ajax({
						async: true,
						url: "assets/usuario/Controller_usuarios.php",
						type: "post",
						data:jQuery("#FrmUsuario").serialize(),
						success: function(resultado) {

														if(jQuery.isNumeric(resultado)){
																// mensagen de carregamento
																jQuery("#msg_loading").html(" Carregando ");
																// variavel com id
																var user_id=resultado;
																// recarrega a pagina
																LoadContent('assets/usuario/Frm_usuario.php?user_id='+user_id.replace(/[^\d]+/g,'')+'','content');
														}else{
																//abre a tela de preload
																modal.hide();
																UIkit.notify(""+resultado+"", {status:'danger',timeout: 2500})
															}
						},
						error:function (){
							UIkit.modal.alert("Erro ao enviar dados! Erro 404");/*erro de caminho invalido do arquivo*/
							modal.hide();
						}

		});

 	});
});

