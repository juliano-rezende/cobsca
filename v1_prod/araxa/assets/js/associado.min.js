 // seta o placeholder em todos os selects do forumlario
jQuery(function($) {
      //function for placeholder select
      function selectPlaceholder(selectID){
        var selected = $(selectID + ' option:selected');
        var val = selected.val();
        $(selectID + ' option' ).css('color', '#333');
        selected.css('color', '#999');
        if (val == "") {
          $(selectID).css('color', '#999');
        };
        $(selectID).change(function(){
          var val = $(selectID + ' option:selected' ).val();
          if (val == "") {
            $(selectID).css('color', '#999');
          }else{
            $(selectID).css('color', '#333');
          };
        });
      };
      selectPlaceholder('.select');
    });

jQuery(document).ready(function(){

// mascara para os campos
jQuery("#cpf").mask("999.999.999-99");
jQuery("#fone_fixo,#fone_trab").mask("(99) 9999-9999");
jQuery("#fone_cel").mask("(99) 99999-9999");
jQuery("#data_emissao_rg,#data_nasc").mask("99/99/9999");
jQuery("#cep").mask("99.999-999");
jQuery("#limite").maskMoney({showSymbol:true, symbol:"", decimal:",", thousands:"."});
//jQuery("#matricula").css("background-color","#f5f5f5")


});// fim document ready

jQuery("#Btn_assoc_0").click(function(){
	New_window('search','980','520','Pesquisa Associado','assets/associado/Frm_pesquisa_associado.php',true,false,'Carregando...');
		});

jQuery("#Btn_assoc_1").click(function(){
		LoadContent('assets/associado/Frm_associado.php','content');
		});

jQuery("#Btn_assoc_2").click(function(){
	var matricula= jQuery('#matricula').val();
	New_window('users','780','500','Dependentes','assets/dependente/Veiw_dependente.php?matricula='+matricula+'',true,false,'Carregando...');
});

jQuery("#Btn_assoc_3").click(function(){
	var matricula= jQuery('#matricula').val();
	var convenio= jQuery('#convenio').val();
	New_window('list','950','500','Faturamento','assets/faturamento/Frm_faturamento.php?matricula='+matricula+'&convenio_id='+convenio+'',true,false,'Carregando...');
});

jQuery("#Btn_assoc_4").click(function(){

    var matricula= jQuery('#matricula').val();
    New_window('file-text-o','750','550','Histórico do Contrato','assets/associado/Historico_contrato.php?matricula='+matricula+'',true,false,'Carregando...');

});
jQuery("#Btn_assoc_5").click(function(){
	// mensagen de carregamento
	jQuery("#msg_loading").html(" Aguarde ");
	//abre a tela de preload
	modal.show();
	LoadContent('assets/sms/Veiw_sms_associado.php','content');
});

jQuery("#Btn_assoc_6").click(function(){

var matricula= jQuery('#matricula').val();
var ch_ctt= jQuery('#ch_ctt').val();
//New_window('file-text-o','950','550','Contrato de Adesão','assets/associado/contratos/'+ch_ctt+'/Contrato_adesao.php?matricula='+matricula+'',true,false,'Carregando...');

window.open('arquivos/contratos/'+ch_ctt+'/Contrato_adesao.php?matricula='+matricula+'', "_blank", "toolbar=no, scrollbars=no, resizable=no,top=20,left=10,width=980,height=500");

});

jQuery("#Btn_assoc_7").click(function(){
    var matricula= jQuery('#matricula').val();
    New_window('file-text-o','950','550','Termo de Cancelamento','assets/associado/Termo_cancelamento.php?matricula='+matricula+'',true,false,'Carregando...');
});

jQuery("#Btn_assoc_8").click(function(){
	New_window('remove','600','350','Cancelamento','assets/associado/Frm_cancelamento.php',true,false,'Carregando...');
});


// grava os dados no banco de dados
jQuery(function() {

 jQuery("#Btn_assoc_9").click(function(event) {

 // mensagen de carregamento
 jQuery("#msg_loading").html(" Aguarde ... ");

 //abre a tela de preload
 modal.show();

 //desabilita o envento padrao do formulario
 event.preventDefault();

 jQuery.ajax({
				async: true,
				url: "assets/associado/Controller_associados.php",
				type: "post",
				data:jQuery("#FrmAssociado").serialize(),
				success: function(resultado) {
												if(jQuery.isNumeric(resultado)){
														// mensagen de carregamento
														jQuery("#msg_loading").html(" Carregando ");
														// variavel com id
														var matricula=resultado;
														// recarrega a pagina
														LoadContent('assets/associado/Frm_associado.php?matricula='+matricula.replace(/[^\d]+/g,'')+'','content');
												}else{
														//abre a tela de preload
														modal.hide();
														UIkit.notify(""+resultado+"", {status:'danger',timeout: 2500});
													}
				},
				error:function (){
					UIkit.modal.alert("Erro ao enviar dados! Erro 404");/*erro de caminho invalido do arquivo*/
					modal.hide();
					}
			});
		});
});

// reativa o contrato
jQuery("#Btn_assoc_10").click(function(){
    New_window('check','600','350','Reativação','assets/associado/Frm_reativacao.php',true,false,'Carregando...');
});

// incluir spc
jQuery(function(){

    jQuery("#Btn_assoc_11").click(function(event) {

        // mensagen de carregamento
            jQuery("#msg_loading").html(" Aguarde...");
            //abre a tela de preload
            modal.show();

        //desabilita o envento padrao do formulario
        event.preventDefault();

        var data="action=reg_spc&mat="+jQuery("#matricula").val();

         jQuery.ajax({
                async: true,
                url: "assets/associado/Controller_matricula.php",
                type: "post",
                data:data,
                success: function(resultado) {
                                                if(jQuery.isNumeric(resultado)){
                                                        // mensagen de carregamento
                                                        jQuery("#msg_loading").html(" Carregando ");
                                                        // variavel com id
                                                        var matricula=resultado;
                                                        // recarrega a pagina
                                                        LoadContent('assets/associado/Frm_associado.php?matricula='+matricula.replace(/[^\d]+/g,'')+'','content');
                                                }else{
                                                        //abre a tela de preload
                                                        modal.hide();
                                                        UIkit.notify(""+resultado+"", {status:'danger',timeout: 2500});
                                                    }
                },
                error:function (){
                    UIkit.modal.alert("Erro ao enviar dados! Erro 404");/*erro de caminho invalido do arquivo*/
                    modal.hide();
                    }
            });
    });
});

// remover spc
jQuery(function(){

    jQuery("#Btn_assoc_12").click(function(event) {

        // mensagen de carregamento
        jQuery("#msg_loading").html(" Aguarde...");
        //abre a tela de preload
        modal.show();

        //desabilita o envento padrao do formulario
        event.preventDefault();

        var data="action=rem_spc&mat="+jQuery("#matricula").val();

        jQuery.ajax({
                async: true,
                url: "assets/associado/Controller_matricula.php",
                type: "post",
                data:data,
                success: function(resultado) {
                                                if(jQuery.isNumeric(resultado)){
                                                        // mensagen de carregamento
                                                        jQuery("#msg_loading").html(" Carregando ");
                                                        // variavel com id
                                                        var matricula=resultado;
                                                        // recarrega a pagina
                                                        LoadContent('assets/associado/Frm_associado.php?matricula='+matricula.replace(/[^\d]+/g,'')+'','content');
                                                }else{
                                                        //abre a tela de preload
                                                        modal.hide();
                                                        UIkit.notify(""+resultado+"", {status:'danger',timeout: 2500});
                                                    }
                },
                error:function (){
                    UIkit.modal.alert("Erro ao enviar dados! Erro 404");/*erro de caminho invalido do arquivo*/
                    modal.hide();
                    }
            });
    });
});

jQuery("#Btn_assoc_13").click(function(){

    var matricula= jQuery('#matricula').val();
    New_window('file-text-o','950','500','Autorizações','assets/medautorizacao/Grid_autorizacoes.php?matricula='+matricula+'',true,false,'Carregando...');

});

/* funções */
/***************/
/* função para avançar e retroceder nos associados */
function PrevNext(mat){LoadContent('assets/associado/Frm_associado.php?matricula='+mat+'','content');}



/* função para inserir o select contendo os subconvenios */

jQuery(function() {

    jQuery("#convenio").change(function(event) {

        if(jQuery(this).val() == ""){return false;}

         // mensagen de carregamento
         jQuery("#msg_loading").html(" Aguarde... ");

         //abre a tela de preload
         modal.show();

         //desabilita o envento padrao do formulario
         event.preventDefault();

         jQuery.ajax({
                        async: true,
                        url: "assets/convenio/Controller_subconvenios.php",
                        type: "post",
                        data:"action=ajaxSub&Conv_id="+jQuery(this).val()+"",
                        success: function(resultado) {
                            if(jQuery.isNumeric(resultado)){
                                jQuery("#labelsubconvenio").hide();modal.hide();
                            }else{
                                jQuery("#labelsubconvenio").show(); modal.hide(); jQuery("#subconvenio").html(resultado);   /*retorna o resultado da ação*/
                            }
                        },
                        error:function (){
                            UIkit.modal.alert("Erro ao enviar dados! Erro 404");/*erro de caminho invalido do arquivo*/
                            modal.hide();
                        }
        });
    });
});