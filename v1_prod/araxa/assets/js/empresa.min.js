// seta o placeholder em todos os selects do forumlario
jQuery(function($) {
      //function for placeholder select
      function selectPlaceholder(selectID){
        var selected = $(selectID + ' option:selected');
        var val = selected.val();
        $(selectID + ' option' ).css('color', '#333');
        selected.css('color', '#999');
        if (val == "") {
          $(selectID).css('color', '#999');
        };
        $(selectID).change(function(){
          var val = $(selectID + ' option:selected' ).val();
          if (val == "") {
            $(selectID).css('color', '#999');
          }else{
            $(selectID).css('color', '#333');
          };
        });
      };
      selectPlaceholder('.select');
    });

jQuery(document).ready(function(){

	// mascara para os campos
	jQuery("#cnpj").mask("99.999.999/9999-99");
	jQuery("#fn_fx").mask("(99) 9999-9999");
	jQuery("#fn_cel").mask("(99) 99999-9999");
	jQuery("#cep").mask("99999-999");
	//jQuery("#empresa_id").css("background-color","#f5f5f5");

});// fim document ready

//Abre uma janela para pesquisa
jQuery("#Btn_emp_0").click(function(){
	New_window('search','980','500','Pesquisa empresa','assets/empresa/Frm_pesquisa_empresas.php',true,false,'Carregando...');
});


//Abre uma janela para adcionar cliente
jQuery("#Btn_emp_1").click(function(){

	// mensagen de carregamento
	jQuery("#msg_loading").html(" Aguarde ");
	//abre a tela de preload
	modal.show();

	LoadContent('assets/empresa/Frm_empresa.php','content');
});


//Abre uma janela para Contas Bancarias
jQuery("#Btn_emp_2").click(function(){
	New_window('search','780','520','Contas Bancarias','assets/empresa/contas/Frm_contas_bancarias.php',true,false,'Carregando...');
});
//Abre uma janela para Configurações
jQuery("#Btn_emp_3").click(function(){
	New_window('search','700','570','Configurações','assets/empresa/config/Frm_config.php',true,false,'Carregando...');
});

// faz o update dos dados
jQuery(function() {

	jQuery("#Btn_emp_4").click(function(event) {

		 // mensagen de carregamento
		 jQuery("#msg_loading").html(" Aguarde... ");

		 //abre a tela de preload
		 modal.show();

		 //desabilita o envento padrao do formulario

		 event.preventDefault();

		 jQuery.ajax({
						async: true,
						url: "assets/empresa/Controller_empresas.php",
						type: "post",
						data:jQuery("#FrmEmpresa").serialize(),
						success: function(resultado) {
														if(jQuery.isNumeric(resultado)){
																// mensagen de carregamento
																jQuery("#msg_loading").html(" Carregando ");
																// variavel com id
																var emp_id=resultado;
																// recarrega a pagina
																LoadContent('assets/empresa/Frm_empresa.php?emp_id='+emp_id.replace(/[^\d]+/g,'')+'','content');
														}else{
																//abre a tela de preload
																modal.hide();
																UIkit.notify(""+resultado+"", {status:'danger',timeout: 2500})
															}
						},
						error:function (){
							UIkit.modal.alert("Erro ao enviar dados! Erro 404");/*erro de caminho invalido do arquivo*/
							modal.hide();
						}

		});

 	});
});