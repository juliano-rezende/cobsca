jQuery(document).ready(function(){

	// mascara para os campos
	jQuery("#cpf").mask("999.999.999-99");
	jQuery("#cnpj").mask("99.999.999/9999-99");
	jQuery("#fn_fx").mask("(99) 9999-9999");
	jQuery("#fn_cel").mask("(99) 99999-9999");
	jQuery("#cep").mask("99999-999");
	jQuery("#data_nasc").mask("99/99/9999");


});// fim document ready


/* habilita e desabilita os campos*/
jQuery("#tp_parceiro").change(function(){

	if(jQuery("#tp_parceiro").val() == 'F'){

		jQuery(".labpj").hide();jQuery(".labpf").show();

	}if(jQuery("#tp_parceiro").val() == 'J'){

		jQuery(".labpf").hide();jQuery(".labpj").show();

	}
});

//Abre uma janela para pesquisa cliente
jQuery("#Btn_par_0").click(function(){
	New_window('search','980','500','Pesquisa Parceiros','assets/parceiros/Frm_pesquisa_parceiros.php',true,false,'Carregando...');
});


//Abre uma janela para adcionar parceiro
jQuery("#Btn_par_1").click(function(){

	// mensagen de carregamento
	jQuery("#msg_loading").html(" Aguarde ");
	//abre a tela de preload
	modal.show();

	LoadContent('assets/parceiros/Frm_parceiro.php','content');
});

//Abre uma janela para adcionar especialidade
jQuery("#Btn_par_2").click(function(){

	New_window('user-md','800','400','Especialidades Parceiro','assets/parceiros/especialidades/Grid_especialidades.php?par_id='+jQuery("#par_id").val()+'',true,false,'Carregando...');

});


// faz o update ou inseri dados
jQuery(function() {

	jQuery("#Btn_par_3").click(function(event) {

		 // mensagen de carregamento
		 jQuery("#msg_loading").html(" Aguarde... ");

		 //abre a tela de preload
		 modal.show();

		 //desabilita o envento padrao do formulario

		 event.preventDefault();

		 jQuery.ajax({
		 	async: true,
		 	url: "assets/parceiros/Controller_parceiros.php",
		 	type: "post",
		 	data:jQuery("#FrmParceiro").serialize(),
		 	success: function(resultado) {
		 		if(jQuery.isNumeric(resultado)){

														// mensagen de carregamento
														jQuery("#msg_loading").html(" Carregando ");
														// variavel com id
														var id=resultado;
														// recarrega a pagina
														LoadContent('assets/parceiros/Frm_parceiro.php?par_id='+id.replace(/[^\d]+/g,'')+'','content');

													}else{
																//abre a tela de preload
																modal.hide();
																UIkit.notify(""+resultado+"", {status:'danger',timeout: 2500})
															}
														},
														error:function (){
															UIkit.modal.alert("Erro ao enviar dados! Erro 404");/*erro de caminho invalido do arquivo*/
															modal.hide();
														}

													});

		});
});

